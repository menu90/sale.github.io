<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>jQuery对json快速赋值</title>
    <!--引用jQuery库-->
    <script type="text/javascript" src="./jquery-1.8.2.min.js" charset="utf-8"></script>
	<script src="./jquery.cookie.js"></script>
<script  type="text/javascript">  

var COOKIE_NAME = 'sales';  
		var sales=[];
$(function(){
		
		if($.cookie(COOKIE_NAME)){
			var str = $.cookie(COOKIE_NAME);
			var sales = JSON.parse(str);
			console.log(sales);
			
		}
});
		
		  function add(){
			var obj = {
					"PID":'蔡丹',
					"Cnt":111
				}
			    sales.push(obj) ;
				var date = new Date();  
				console.log(sales);
				    var str = JSON.stringify(sales);

     			date.setTime(date.getTime() + (3 * 24 * 60 * 60 * 1000)); //三天后的这个时候过期  
				$.cookie(COOKIE_NAME, str , { path: '/', expires: date });  
				alert("ok");
			  }
	      function del(a){
			  
			     $.each(obj,function(n,value) {
					 if (value.name==a)
					{
					 obj.splice(n,1);
						alert(value.name);
						}
					 
					 })
				
			  }
	function alist()
	{
	sales = $.cookie(COOKIE_NAME);
		 $.each(sales,function(n,value) { 
		 
		alert(n+"/"+ value.name);
		 });
		}
   </script>  
  </HEAD>  
    
  <BODY>  
  <input type="button" value="list"   onClick="alist()">
 <input type="button" value="add"   onClick="add()">
 <input type="button" value="del"   onClick="del('海军')">
   
  </BODY>  
 </HTML>
